{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","handleFilterChange","onChange","PersonForm","addPerson","newName","handlePhonebookChange","newNumber","handlePhoneNumberChange","onSubmit","value","type","Person","person","handleClick","name","number","onClick","Persons","personsToShow","map","baseUrl","service","create","newObject","axios","post","then","response","data","remove","id","delete","update","put","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","App","useState","persons","setPersons","setNewName","setNewNumber","showPersons","setShowPersons","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","get","filter","toLowerCase","includes","event","target","preventDefault","personObject","find","singlePerson","changeNumber","window","confirm","personService","returnedPerson","per","setTimeout","catch","error","p","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e828db3a.chunk.js","sourcesContent":["const Filter = ({ handleFilterChange}) => {\r\n    \r\n    return (\r\n    <div>\r\n        filter shown with\r\n        <input \r\n          onChange={handleFilterChange}\r\n        />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","const PersonForm = ({ addPerson, newName, handlePhonebookChange, newNumber, handlePhoneNumberChange }) => {\r\n    \r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: \r\n                <input \r\n                    value={newName} \r\n                    onChange={handlePhonebookChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number:\r\n                <input\r\n                    value={newNumber}\r\n                    onChange={handlePhoneNumberChange}\r\n                />          \r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from 'react'\r\n\r\nconst Person = ({ person, handleClick }) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number} <button onClick={() => handleClick(person)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person;","import Person from './Person'\r\n\r\nconst Persons = ({ personsToShow, handleClick }) => {\r\n    return (\r\n        <div>\r\n        {personsToShow.map(person => \r\n          <Person key={person.name} person={person} handleClick={handleClick} />\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst service = {create, remove, update}\r\n\r\nexport default service","const Notification = ({ message }) => {\r\n    \r\n    const notificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","const ErrorNotification = ({ message }) => {\r\n    \r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport axios from 'axios'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showPersons, setShowPersons] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const handleClick = (person) => {\n    if(window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setNotificationMessage(`Deleted ${person.name}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 4000)\n        })\n    } \n  }\n\n  const hook = () => {\n    axios\n      .get('http://localhost:3001/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const person = persons.find(singlePerson => singlePerson.name === newName)\n\n    if (person) {      \n      const changeNumber = { ...person, number: newNumber }\n      \n      if (window.confirm((`${newName} is already added to phonebook, replace the old number with a new one?`))) {\n        personService\n          .update(person.id, changeNumber)\n          .then(returnedPerson => {\n            setPersons(persons.map(per => per.id !== person.id ? per : returnedPerson))\n            setNotificationMessage(`Updated phone number for ${returnedPerson.name}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 4000)\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.id !== person.id))\n            setErrorMessage(`Information of ${person.name} has already been removed from server`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 4000)\n          })        \n      }\n      setNewName('')\n      setNewNumber('')\n\n    } else {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNotificationMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 4000)\n        setNewName('')\n        setNewNumber('')\n      })      \n    }\n  }\n\n  const personsToShow = showPersons\n    ? persons.filter(person => person.name.toLowerCase().includes(showPersons))\n    : persons\n\n  const handlePhonebookChange = (event) => setNewName(event.target.value)\n  const handlePhoneNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setShowPersons(event.target.value.toLowerCase())\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage} />\n      <Notification message={notificationMessage} />\n      <Filter handleFilterChange = {handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm \n        addPerson = {addPerson} \n        newName = {newName} \n        handlePhonebookChange = {handlePhonebookChange} \n        newNumber = {newNumber} \n        handlePhoneNumberChange = {handlePhoneNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons personsToShow = {personsToShow} handleClick={handleClick}/>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}